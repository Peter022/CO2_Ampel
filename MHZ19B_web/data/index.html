<!DOCTYPE html>
<html>
<head>
<title>CO2-Ampel</title>
<link href='main.css' rel='stylesheet' type='text/css'>
<meta name="theme-color" content="#00878f">
	<meta charset="utf-8">
	<meta
	content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'
	name='viewport'>
<script src="jquery.min.js" type="text/javascript"></script>
<link rel="shortcut icon" href="favicon.png" type="image/png"/>
<script src="highcharts.js"></script>
<script src="moment.min.js"></script>
<script src="timezone.min.js"></script>
<script src="base64js.min.js"></script>
<script src="BayEOSParser.js"></script>
<script src="chart.js" type="text/javascript"></script>
<script src="WebSocket.js" type="text/javascript"></script>
</head>
<body>
	<div style='text-align: left; display: inline-block; min-width: 260px;width:100%;max-width:600px' class="tabbed">
	<h1>CO2-Ampel</h1>
   <input checked="checked" id="tab1" type="radio" name="tabs" />
   <input id="tab2" type="radio" name="tabs" />   
   <input id="tab3" type="radio" name="tabs" />   
   <input id="tab4" type="radio" name="tabs" />

   <nav>
      <label for="tab1">Ampel</label>      
      <label for="tab2">Plot</label>
      <label for="tab3">Config</label>
      <label for="tab4">About</label>
   </nav>
	
<figure>
<div class="tab1">
<table>
<tr><td style="text-align:center;"><img src="Ampel.svg" id="ampel"></td></tr> 
<tr><td><span id="co2">??</span> ppm CO2</td></tr>
</table>
</div>

<div class="tab2">
		<div id="container"></div>
</div>

<div class="tab3">	

 		<table>
			<tr>
				<td>SSID:</td>
				<td><input class="config" id="ssid"></td>
			</tr>
			<tr>
				<td>Password:</td>
				<td><input class="config" id="password" type="password"></td>
			</tr>
			<tr>
				<td>Grenze Gr√ºn (ppm):</td>
				<td><input class="config" id="low"></td>
			</tr>
			<tr>
				<td>Grenze Rot (ppm):</td>
				<td><input class="config" id="high"></td>
			</tr>
			<tr>
				<td>Auto-Kalibrierung</td>
				<td><select class="config" id="autocalibration"><option value=0>Nein</option><option value=1>Ja</option></select></td>
			</tr>
			<tr>
				<td>Mode</td>
				<td><select class="config" id="mode"><option value=0>AP-Mode</option><option value=1>Client Mode</option></select></td>
			</tr>
			<tr>
				<td>BayEOS-Name:</td>
				<td><input class="config" id="bayeos_name"></td>
			</tr>
			<tr>
				<td>BayEOS-Gateway:</td>
				<td><input class="config" id="bayeos_gateway"></td>
			</tr>
			<tr>
				<td>BayEOS-User:</td>
				<td><input class="config" id="bayeos_user"></td>
			</tr>
			<tr>
				<td>BayEOS-Password:</td>
				<td><input class="config" id="bayeos_pw" type="password"></td>
			</tr>
			<tr>
				<td>Admin Password:</td>
				<td><input class="config" id="admin_pw" type="password"></td>
			</tr>
			<tr>
				<td colspan=2><input class="config" type="button"
					value="Save" onClick="saveConf()"></td>
			</tr>
		</table>
</div>
<div class="tab4">
<p>
CO2-Ampel

(c) Fablab Bayreuth
</p>
</div>
</figure>
<table>
			<tr id="error_tr" style="background-color:#ff0000; font-weight: bold; color: #fff;">
				<td>Error:</td>
				<td id="error">
			</tr>
			<tr id="msg_tr" style="background-color:#00dd00; font-weight: bold; color: #fff;">
				<td>Message:</td>
				<td id="msg">
			</tr>
</table>
</div>

<script>
$(function(){
	$(".config").prop('disabled', true); //disable config on load
	$("#error_tr").hide();
	$("#msg_tr").hide();
	chart = Highcharts.chart('container', {
		chart : {
			type : 'spline',
			zoomType: "xy"
		},
		title : {
			text : 'Konzentrationsverlauf'
		},
		xAxis : {
			type : 'datetime'
		},
		yAxis : {
			minPadding : 0.2,
			maxPadding : 0.2,
			title : {
				text : 'CO2 [ppm]'
			}
		},
		series : [{
	        name: 'CO2',
	        data: []
	    }]
	})

})
</script>
</body>
</html>
